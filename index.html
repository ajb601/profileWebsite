<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Andrews Login App</title>
        <link rel="stylesheet" href="profile.css">
    </head>
    <body>
    <img src="andrewgram-logo.png"
        height="100"
        width="100"/>
    <h1>Andrews Login App</h1>

    <div id="user1"> 
    
        <h1 id="name1" type="text"> </h1> <br> 
        <img id="image1" src="" alt=""> 
        <h2 id="bio1" type="text"> </h2> <br> 
        <h2 id="color1" type="text"> </h2> <br> 
        <h2 id="major1" type="text"> </h2> <br> 

    </div>

    <div id="user2"> 
        
        <h1 id="name2" type="text"> </h1> <br> 
        <img id="image2" src="" alt=""> 
        <h2 id="bio2" type="text"> </h2> <br> 
        <h2 id="color2" type="text"> </h2> <br> 
        <h2 id="major2" type="text"> </h2> <br> 

    </div>

    <iframe src="https://thunkable.site/w/8O8ZU8irafrCqpPgWgrMb" title="Andrews Profile App" height = 1000 width = 500></iframe>

    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-analytics.js";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries
      
        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
          apiKey: "AIzaSyBAuz7J25EhSuLyGOmufOuFdao0-Un9rOg",
          authDomain: "profileapp-ca041.firebaseapp.com",
          databaseURL: "https://profileapp-ca041-default-rtdb.firebaseio.com",
          projectId: "profileapp-ca041",
          storageBucket: "profileapp-ca041.appspot.com",
          messagingSenderId: "352391301734",
          appId: "1:352391301734:web:d9a57ecbbf1f712eda7ba7",
          measurementId: "G-JE82XPJPJR"
        };
      
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);

        import {getDatabase, get, ref, child}
        from "https://www.gstatic.com/firebasejs/10.4.0/firebase-database.js"

        const db = getDatabase()

        var name1 = document.querySelector("#name1");
        var name2 = document.querySelector("#name2");
        var image1 = document.querySelector("#image1");
        var image2 = document.querySelector("#image2");
        var bio1 = document.querySelector("#bio1");
        var bio2 = document.querySelector("#bio2");
        var color1 = document.querySelector("#color1");
        var color2 = document.querySelector("#color2")
        var major1 = document.querySelector("#major1");
        var major2 = document.querySelector("#major2");

        function findData(){
            const dbref = ref(db);
            get(child(dbref, "GYdPjBuWrhWH7dqrxNOhNOmuy6x1"))
            .then((snapshot)=>{
                if(snapshot.exists()){
                    name1.innerHTML = "Name: " + snapshot.val().name; 
                    image1.src = snapshot.val().image; 
                    bio1.innerHTML = "Bio: " + snapshot.val().bio; 
                    color1.innerHTML = "Favorite Color: " + snapshot.val().color;
                    major1.innerHTML = "Major: " + snapshot.val().major;
                } else {"N/A"}
            })

            get(child(dbref, "UUF5yOECsEXrf5RJhmrj3RwU3343"))
            .then((snapshot)=>{
                if(snapshot.exists()){
                    name2.innerHTML = "Name: " + snapshot.val().name; 
                    image2.src = snapshot.val().image; 
                    bio2.innerHTML = "Bio: " + snapshot.val().bio; 
                    color2.innerHTML = "Favorite Color: " + snapshot.val().color;
                    major2.innerHTML = "Major: " + snapshot.val().major;
                } else {"N/A"}
            })
        }
        findData();
    </script>
    </body>
</html>
